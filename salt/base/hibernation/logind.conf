# Systemd logind configuration for lid switch behavior

{% if pillar['hibernation']['hibernation_enabled'] %}
# Laptop: suspend-then-hibernate on lid close
[Login]
HandleLidSwitch=suspend-then-hibernate
HandleLidSwitchExternalPower=suspend-then-hibernate
{% else %}
# Desktop: ignore lid switch to prevent sleeping
[Login]
HandleLidSwitch=ignore
HandleLidSwitchExternalPower=ignore
{% endif %}
